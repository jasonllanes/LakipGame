import{u as w,r as t,j as e}from"./index-ec6612e2.js";import{G as z}from"./gift-c2ab50a4.js";const y="/LakipGame/main-page/assets/umbrella-aca76bb9.mp4",V="/LakipGame/main-page/assets/bomb-d466599a.mp4",P="/LakipGame/main-page/assets/fan-efc763c6.mp4",R="/LakipGame/main-page/assets/notebook-9c795f3a.mp4";function S(){const g=w(),[o,d]=t.useState([]),[m,u]=t.useState(!1),[c,p]=t.useState(null),[j,v]=t.useState(null),[h,f]=t.useState(null);t.useEffect(()=>{x()},[]);const x=()=>{const a=[],i=new Set;for(;i.size<3;)i.add(Math.floor(Math.random()*12));const l=[{video:y,name:"Umbrella"},{video:R,name:"Notebook"},{video:P,name:"Fan"}];let s=0;for(let n=0;n<12;n++){const r=i.has(n),b=r?l[s++%l.length]:null;a.push({id:n,isRevealed:!1,isWin:r,revealVideo:r?b.video:V,prizeName:r?b.name:void 0})}d(a),u(!1),p(null),v(null),f(null)},k=a=>{if(m)return;const i=o.find(s=>s.id===a);if(!i||i.isRevealed)return;const l=o.map(s=>s.id===a?{...s,isRevealed:!0}:s);d(l),u(!0),p(i.isWin?"win":"lose"),i.isWin&&(v(i.prizeName||null),f(i.revealVideo)),setTimeout(()=>{const s=o.map(n=>({...n,isRevealed:!0}));d(s)},1e3)},G=()=>{x()},N=()=>{g("/main-page")};return e.jsxs("div",{className:"lakip-game-container",children:[e.jsx("button",{onClick:N,className:"back-button",children:"← Back"}),e.jsxs("div",{className:"game-header",children:[e.jsx("h1",{children:"🎁 Gift Selection Game"}),e.jsx("p",{children:"Choose a gift! 3 out of 12 contain winning prizes!"})]}),e.jsx("div",{className:"gifts-grid",children:o.map(a=>e.jsx("div",{className:`gift-box ${a.isRevealed?"revealed":""}`,onClick:()=>k(a.id),children:a.isRevealed?e.jsx("div",{className:"reveal-container",children:e.jsx("video",{src:a.revealVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"reveal-video"})}):e.jsx("video",{src:z,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"gift-video"})},a.id))}),m&&e.jsx("div",{className:"game-result",children:e.jsxs("div",{className:"result-modal",children:[c==="win"&&h&&e.jsx("div",{className:"modal-prize-video",children:e.jsx("video",{src:h,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"prize-video-display"})}),e.jsx("h2",{children:c==="win"?"🎉 Congratulations!":"💥 Better Luck Next Time!"}),e.jsx("p",{children:c==="win"?`You won a ${j}!`:"You got a bomb! Try again!"}),e.jsx("button",{onClick:G,className:"play-again-btn",children:"Play Again"})]})})]})}export{S as default};
