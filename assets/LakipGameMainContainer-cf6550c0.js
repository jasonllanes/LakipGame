import{u as G,r as t,j as e}from"./index-15077c69.js";import{G as z}from"./gift-c16366df.js";const y="/lakip/assets/umbrella-aca76bb9.mp4",V="/lakip/assets/bomb-d466599a.mp4",P="/lakip/assets/fan-efc763c6.mp4",R="/lakip/assets/notebook-9c795f3a.mp4";function W(){const j=G(),[o,d]=t.useState([]),[u,m]=t.useState(!1),[c,p]=t.useState(null),[k,v]=t.useState(null),[h,f]=t.useState(null);t.useEffect(()=>{x()},[]);const x=()=>{const a=[],s=new Set;for(;s.size<3;)s.add(Math.floor(Math.random()*12));const l=[{video:y,name:"Umbrella"},{video:R,name:"Notebook"},{video:P,name:"Fan"}];let i=0;for(let n=0;n<12;n++){const r=s.has(n),b=r?l[i++%l.length]:null;a.push({id:n,isRevealed:!1,isWin:r,revealVideo:r?b.video:V,prizeName:r?b.name:void 0})}d(a),m(!1),p(null),v(null),f(null)},N=a=>{if(u)return;const s=o.find(i=>i.id===a);if(!s||s.isRevealed)return;const l=o.map(i=>i.id===a?{...i,isRevealed:!0}:i);d(l),m(!0),p(s.isWin?"win":"lose"),s.isWin&&(v(s.prizeName||null),f(s.revealVideo)),setTimeout(()=>{const i=o.map(n=>({...n,isRevealed:!0}));d(i)},1e3)},g=()=>{x()},w=()=>{j("/main-page")};return e.jsxs("div",{className:"lakip-game-container",children:[e.jsx("button",{onClick:w,className:"back-button",children:"← Back"}),e.jsxs("div",{className:"game-header",children:[e.jsx("h1",{children:"🎁 Gift Selection Game"}),e.jsx("p",{children:"Choose a gift! 3 out of 12 contain winning prizes!"})]}),e.jsx("div",{className:"gifts-grid",children:o.map(a=>e.jsx("div",{className:`gift-box ${a.isRevealed?"revealed":""}`,onClick:()=>N(a.id),children:a.isRevealed?e.jsx("div",{className:"reveal-container",children:e.jsx("video",{src:a.revealVideo,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"reveal-video"})}):e.jsx("video",{src:z,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"gift-video"})},a.id))}),u&&e.jsx("div",{className:"game-result",children:e.jsxs("div",{className:"result-modal",children:[c==="win"&&h&&e.jsx("div",{className:"modal-prize-video",children:e.jsx("video",{src:h,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"prize-video-display"})}),e.jsx("h2",{children:c==="win"?"🎉 Congratulations!":"💥 Better Luck Next Time!"}),e.jsx("p",{children:c==="win"?`You won a ${k}!`:"You got a bomb! Try again!"}),e.jsx("button",{onClick:g,className:"play-again-btn",children:"Play Again"})]})})]})}export{W as default};
